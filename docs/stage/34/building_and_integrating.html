<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=9" />
  <meta name="generator" content="Doxygen 1.8.13" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RDMnet: Building and Integrating the RDMnet Library into Your Project</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link href="stylesheet.css" rel="stylesheet" type="text/css" />
  <!--BEGIN CUSTOM SCRIPTS-->
  <script type="text/javascript">
    $(function () {
      $.get('/RDMnet/docs/versions.txt', function (data) {
        if (data) {
          var lines = data.split('\n');
          if (lines.length > 0) {
            var version_select = $("#version_select").empty();
            lines.forEach(function (line) {
              line = line.trim();
              if (!line) {
                return;
              }
              line = line.split(':');
              var option_name = line[0].replace(/^v/, '');
              if (line.length > 1) {
                option_name += ' (' + line[1] + ')';
              }
              var option_val = '/RDMnet/docs/' + line[0];
              var option = $('<option></option>').attr("value", option_val)
                .text(option_name);
              if (window.location.pathname.match('docs/' + line[0])) {
                option = option.attr("selected", "selected");
              }
              version_select.append(option);
            });
          }
        }
      }, 'text');
    });
  </script>
  <script type="text/javascript">
    $(function () { selectAllC() });
  </script>
  <script type="text/javascript">
    function selectAllC() {
      // Enable all C-language blocks
      var tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        if (tabcontent[i].id.endsWith("_c")) {
          tabcontent[i].style.display = "block";
        } else {
          tabcontent[i].style.display = "none"
        }
      }
      // Enable all C-language buttons
      var tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].id.endsWith("_c")) {
          if (!tablinks[i].className.includes("active")) {
            tablinks[i].className = tablinks[i].className += " active";
          }
        } else {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
      }
    }
    function selectAllCpp() {
      // Enable all C++-language blocks
      var tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        if (tabcontent[i].id.endsWith("_cpp")) {
          tabcontent[i].style.display = "block";
        } else {
          tabcontent[i].style.display = "none"
        }
      }
      // Enable all C++-language buttons
      var tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].id.endsWith("_cpp")) {
          if (!tablinks[i].className.includes("active")) {
            tablinks[i].className = tablinks[i].className += " active";
          }
        } else {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
      }
    }
    function selectLanguage(evt, block_id, language) {
      // Get all elements with class="tabcontent" and hide them
      var tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        if (tabcontent[i].id.startsWith("div_" + block_id)) {
          tabcontent[i].style.display = "none";
        }
      }
      // Get all elements with class="tablinks" and remove the class "active"
      var tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        if (tablinks[i].id.startsWith("button_" + block_id)) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
      }
      // Show the current tab, and add an "active" class to the button that opened the tab
      document.getElementById("div_" + block_id + "_" + language).style.display = "block";
      if (!evt.currentTarget.className.includes("active")) {
        evt.currentTarget.className += " active";
      }
    }
  </script>
  <!--END CUSTOM SCRIPT-->
</head>
<body>
  <div id="top">
    <!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
      <table cellspacing="0" cellpadding="0" style="width: 100%">
        <tbody>
          <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
              <div id="projectname">RDMnet
                &#160;<span id="projectnumber">Staging for pull request 34</span>
              </div>
              <div id="projectbrief">Implementation of ANSI E1.33 (RDMnet)</div>
            </td>
            <!--BEGIN CUSTOM INSERTED SECTION-->
            <td style="text-align: right; padding-right: 0.5em">
              <div id="otherversions">
                View other versions:
                <select id="version_select" onchange="location = this.value">
                </select>
              </div>
            </td>
            <!--END CUSTOM INSERTED SECTION-->
          </tr>
        </tbody>
      </table>
    </div>
    <!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('building_and_integrating.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Building and Integrating the RDMnet Library into Your Project </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Prerequisites</h2>
<ul>
<li><b>CMake &gt;= 3.8</b>. CMake is an industry-standard cross-platform build system generator for C and C++. CMake can be downloaded <a href="https://cmake.org/download">here</a>. It is also available as a package in many Linux distributions.</li>
<li><b>An implementation of DNS-SD/mDNS</b>. There are different options for this on different platforms:<ul>
<li>On Microsoft Windows:<ul>
<li>Apple's Bonjour for Windows implements DNS-SD/mDNS. Note that you must have an Apple developer account to download the Bonjour SDK for Windows, and that bundling Bonjour with a Windows application may be subject to additional licensing restrictions from Apple. The SDK is available <a href="https://developer.apple.com/bonjour/">here</a>. Define RDMNET_WINDOWS_USE_BONJOUR_SDK=ON at configure time to use the Bonjour SDK.</li>
<li>ETC's fork of Bonjour for Windows ("mDNSWindows"), maintained <a href="https://github.com/ETCLabs/mDNSWindows">here</a>. ETC maintains a fork of the Apache-licensed Bonjour code which can be used as a DNS-SD/mDNS provider on Windows. The RDMnet CMake config will automatically download the latest version if no other options are specified. Or, to build mDNSWindows from source, specify the source location with the MDNSWINDOWS_SRC_LOC option.</li>
</ul>
</li>
<li>On macOS:<ul>
<li>RDMnet uses native Bonjour, which comes with every macOS distribution.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Including RDMnet in your project</h2>
<p>When adding RDMnet to your project, you can choose whether to use RDMnet in binary or source form. RDMnet publishes a small set of built binaries for specific platforms and toolchains to <a href="https://bintray.com/beta/#/etclabs/rdmnet_bin?tab=packages">JFrog Bintray</a>.</p>
<h3>Including RDMnet in CMake projects</h3>
<h4>Binaries</h4>
<p>RDMnet binary packages come with exported CMake config files which allow them to be added using <code>find_package()</code>. Once the binary package has been downloaded, you can include it in your project by adding:</p>
<div class="fragment"><div class="line"># This line may not be necessary on Unix-like platforms if RDMnet is installed in your standard</div><div class="line"># system paths</div><div class="line">list(APPEND CMAKE_PREFIX_PATH ${PATH_TO_RDMNET_BINARY_PACKAGE})</div><div class="line">find_package(RDMnet 0.3.0 REQUIRED)</div><div class="line"># ...</div><div class="line">target_link_libraries(MyApp PRIVATE RDMnet::RDMnet)</div><div class="line"># Or for an app that needs a broker implementation:</div><div class="line">target_link_libraries(MyApp PRIVATE RDMnet::Broker) # RDMnet will be linked transitively</div></div><!-- fragment --><h4>Source</h4>
<p>To include RDMnet as a source dependency from a CMake project, use the <code>add_subdirectory()</code> command, specifying the root of the RDMnet repository, and use <code>target_link_libraries()</code> to add the relevant RDMnet include paths and binaries to your project settings.</p>
<div class="fragment"><div class="line">add_subdirectory(path/to/RDMnet/root)</div><div class="line"># ...</div><div class="line">target_link_libraries(MyApp PRIVATE RDMnet)</div><div class="line"># Or for an app that needs a broker implementation:</div><div class="line">target_link_libraries(MyApp PRIVATE RDMnetBroker) # RDMnet will be linked transitively</div></div><!-- fragment --><h3>Including RDMnet in non-CMake projects</h3>
<p>RDMnet can be built on its own using CMake and its headers and binaries can be installed for inclusion in a non-CMake project. Typical practice is to create a clean directory to hold the build results named some varion of "build".</p>
<p><b>NOTE</b>: If you are cross-compiling and/or building for an embedded target, some additional configuration is necessary. EtcPal helps make this possible; see the <a href="https://etclabs.github.io/EtcPal/docs/head/building_for_embedded.html">EtcPal embedded build documentation</a> for more details.</p>
<ol type="1">
<li>Create a directory in your location of choice (a directory called 'build' at the repository root is recommended) to hold your build projects or Makefiles: <div class="fragment"><div class="line">$ mkdir build &amp;&amp; cd build</div></div><!-- fragment --></li>
<li>Run CMake to configure the RDMnet project: <div class="fragment"><div class="line">$ cmake -DCMAKE_INSTALL_PREFIX=[path/to/install/location] [path/to/RDMnet/root]</div></div><!-- fragment --> You can optionally specify your build system with the <code>-G</code> option; otherwise, CMake will choose a system-appropriate default. Use <code>cmake --help</code> to see all available options. CMake also has a GUI tool that can be used for this, as well as plugins available for several editors and IDEs. <code>CMAKE_INSTALL_PREFIX</code> specifies where the final binaries and headers will go; if not given, they will be installed in a system-appropriate place like <code>/usr/local/include</code> and <code>/usr/local/lib</code> on a *nix system.</li>
<li>Use CMake to invoke the generated build system to build the RDMnet library and any extras you have enabled: <div class="fragment"><div class="line">$ cmake --build .</div></div><!-- fragment --> If you are generating IDE project files, you can use CMake to open the projects in the IDE: <div class="fragment"><div class="line">$ cmake --open .</div></div><!-- fragment --></li>
<li>Use CMake's installation target to install the built binaries and headers. This usually shows up as another project called "INSTALL" inside an IDE or a target called "install" (e.g. <code>make install</code> for a Makefile generator). You can also do it manually from the command line in the build directory: <div class="fragment"><div class="line">$ cmake -P cmake_install.cmake</div></div><!-- fragment --></li>
</ol>
<h3>Building RDMnet on its own</h3>
<p>If want to build the RDMnet library on its own, in order to tweak the examples or contribute changes, follow the instructions for "Including RDMnet in non-CMake projects" above. Additionally, you can set some CMake options to build extras like the unit tests and examples:</p><ul>
<li><code>RDMNET_BUILD_TESTS</code>: Build the unit tests</li>
<li><code>RDMNET_BUILD_CONSOLE_EXAMPLES</code>: Build the console example applications</li>
<li><code>RDMNET_BUILD_GUI_EXAMPLES</code>: Build the controller GUI example</li>
<li><code>RDMNET_BUILD_TEST_TOOLS</code>: Build the library test tools</li>
</ul>
<p>These can be specified using the CMake GUI tool or at the command line using <code>-D</code>: </p><div class="fragment"><div class="line">$ cmake -DRDMNET_BUILD_GUI_EXAMPLES=ON [...] # Include the Qt example app</div><div class="line">$ cmake -DRDMNET_BUILD_TESTS=ON [...] # Include the unit tests</div></div><!-- fragment --><p>If you want to build the GUI example applications, you will need another prerequisite: Qt (&gt;=5.9.7 open-source). Qt installers are available <a href="https://www.qt.io/download">here</a>. To point CMake at the Qt dependency, there are two options:</p><ul>
<li>Set a system environment variable called QTDIR which points at the Qt installation directory (i.e. .../Qt/5.9.7/msvc2017_64)</li>
<li>Provide the Qt installation directory as an argument to CMake: ``` cmake -DQTDIR=[...]/Qt/5.9.7/msvc2017_64 ``` </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="getting_started.html">Getting Started</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
